<nav class="panel" id="memory-panel-style">
  <div class="notification notice-pad">
    <div class="content has-text-centered">
      <div class="columns is-centered">
        <div class="column is-12 is-centered max-width">
          <h1 class="memory-title">思い出アルバムの編集ができます。</h1>
          <small class="is-pulled-right">
            現在時刻&nbsp;<span id="app"><%= l(Date.current) %>&nbsp;<clock></clock></span>
          </small>
          <h1 class="memory-title-mini">思い出アルバムの画像選定/編集</h1>
          <p class="has-text-left">ここから思い出アルバムに使用する画像を最大８枚まで選定/編集できます。</p>
          <%= render 'edit-card' %>
        </div>
      </div>
    </div>
  </div>
</nav>

<script>
  Vue.component('clock', {
    data: function() {
      return {
        time: '12:34:56'
      }
    },
    mounted: function() {
      let timerID = setInterval(this.refresh ,500);
    },
    methods: {
      refresh: function () {
        let now = new Date();
        if (now.getHours() > 10 && now.getMinutes() > 10) {
          this.time = `${now.getHours()}:${now.getMinutes()}`;
        } else if (now.getHours() < 10 && now.getMinutes() > 10) {
          this.time = `0${now.getHours()}:${now.getMinutes()}`;
        } else if (now.getHours() > 10 && now.getMinutes() < 10) {
          this.time = `${now.getHours()}:0${now.getMinutes()}`;
        } else {
          this.time = `0${now.getHours()}:0${now.getMinutes()}`;
        }
      }
    },
    template: '<span>{{ time }}</span>'
  });
  var app = new Vue({
    el: "#app"
  });
</script>
